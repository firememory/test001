var common={getHash:function(a){var e,b={},c=window.location.href.match(/#(.*)$/),d=c&&c[1].split("/")||[];if(a instanceof Array)for(e in a)b[a[e]]=d[e]&&d[e]||null;return b},setHash:function(a){var b=window.location.href.replace(/(javascript:|#).*$/,"");window.history.pushState?window.history.pushState({},document.title,b+"#"+a.join("/")):window.location.href=b+"#"+a.join("/")},addStock:function(a,b){var c=!1,d=this;return $.ajax({type:"get",url:a,async:!1,data:{code:b},dataType:"json",success:function(a){a&&1==a.info?c=!0:d._addStockToCookies(b)&&(c=!0)},error:function(){d._addStockToCookies(b)&&(c=!0)}}),c},delStock:function(a,b){var c=!1,d=this;return $.ajax({type:"get",url:a,async:!1,data:{code:b},dataType:"json",success:function(a){a&&1==a.info?c=!0:d._delStockFromCookies(b)&&(c=!0)},error:function(){d._delStockFromCookies(b)&&(c=!0)}}),c},getStockList:function(a){var b="",c=this;return $.ajax({type:"get",url:a,async:!1,dataType:"json",success:function(a){b=a&&1==a.info?a.data:c._getStockListFromCookies()},error:function(){b=c._getStockListFromCookies()}}),b},_addStockToCookies:function(a){var b,c=0==$.cookie("ticketpcodes").length?[]:$.cookie("ticketpcodes").split(",");return c.length>0?(c.push(a),b=c.join(",")):b=a,$.cookie("ticketpcodes",b,1e4,"/"),!0},_delStockFromCookies:function(a){var b,d,c=0==$.cookie("ticketpcodes").length?[]:$.cookie("ticketpcodes").split(",");for(d=0;d<c.length;d++)c[d]==a&&c.splice(d,1);return b=c.join(","),$.cookie("ticketpcodes",b,1e4,"/"),!0},_getStockListFromCookies:function(){return $.cookie("ticketpcodes")},clearupCookies:function(){var b,a=$.cookie("ticketpcodes");for(a=a&&a.split(",")||[],b=a.length-1;b>=0;b--)a[b]?-1!==a[b].indexOf("undefined")&&(a[b]=a[b].replace("undefined","")):a.splice(b,1);$.cookie("ticketpcodes",a.join(","),1e4,"/")}};